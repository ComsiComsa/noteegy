import{i as k,d as _,j as Q,k as F,l as U,m as A,r as j,p as P,q as G,o as h,c as v,b as l,s as x,a as W,t as S,h as I,f as V,g as R,v as T,e as Y,F as D,x as q,y as z}from"./index.50e525a9.js";import{_ as K}from"./AddEditNote.1b27f8d4.js";var C;const H=typeof window<"u",X=e=>typeof e=="string",Z=()=>{};H&&((C=window==null?void 0:window.navigator)==null?void 0:C.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function N(e){return typeof e=="function"?e():_(e)}function J(e){return e}function ee(e){return Q()?(F(e),!0):!1}const te=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,oe=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a{1,2}|A{1,2}|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ne=(e,o,t,n)=>{let s=e<12?"AM":"PM";return n&&(s=s.split("").reduce((c,i)=>c+=`${i}.`,"")),t?s.toLowerCase():s},se=(e,o,t={})=>{var n;const s=e.getFullYear(),c=e.getMonth(),i=e.getDate(),a=e.getHours(),d=e.getMinutes(),f=e.getSeconds(),m=e.getMilliseconds(),g=e.getDay(),p=(n=t.customMeridiem)!=null?n:ne,r={YY:()=>String(s).slice(-2),YYYY:()=>s,M:()=>c+1,MM:()=>`${c+1}`.padStart(2,"0"),MMM:()=>e.toLocaleDateString(t.locales,{month:"short"}),MMMM:()=>e.toLocaleDateString(t.locales,{month:"long"}),D:()=>String(i),DD:()=>`${i}`.padStart(2,"0"),H:()=>String(a),HH:()=>`${a}`.padStart(2,"0"),h:()=>`${a%12||12}`.padStart(1,"0"),hh:()=>`${a%12||12}`.padStart(2,"0"),m:()=>String(d),mm:()=>`${d}`.padStart(2,"0"),s:()=>String(f),ss:()=>`${f}`.padStart(2,"0"),SSS:()=>`${m}`.padStart(3,"0"),d:()=>g,dd:()=>e.toLocaleDateString(t.locales,{weekday:"narrow"}),ddd:()=>e.toLocaleDateString(t.locales,{weekday:"short"}),dddd:()=>e.toLocaleDateString(t.locales,{weekday:"long"}),A:()=>p(a,d),AA:()=>p(a,d,!1,!0),a:()=>p(a,d,!0),aa:()=>p(a,d,!0,!0)};return o.replace(oe,(u,y)=>y||r[u]())},ae=e=>{if(e===null)return new Date(NaN);if(e===void 0)return new Date;if(e instanceof Date)return new Date(e);if(typeof e=="string"&&!/Z$/i.test(e)){const o=e.match(te);if(o){const t=o[2]-1||0,n=(o[7]||"0").substring(0,3);return new Date(o[1],t,o[3]||1,o[4]||0,o[5]||0,o[6]||0,n)}}return new Date(e)};function re(e,o="HH:mm:ss",t={}){return k(()=>se(ae(N(e)),N(o),t))}function w(e){var o;const t=N(e);return(o=t==null?void 0:t.$el)!=null?o:t}const B=H?window:void 0;function b(...e){let o,t,n,s;if(X(e[0])||Array.isArray(e[0])?([t,n,s]=e,o=B):[o,t,n,s]=e,!o)return Z;Array.isArray(t)||(t=[t]),Array.isArray(n)||(n=[n]);const c=[],i=()=>{c.forEach(m=>m()),c.length=0},a=(m,g,p)=>(m.addEventListener(g,p,s),()=>m.removeEventListener(g,p,s)),d=U(()=>w(o),m=>{i(),m&&c.push(...t.flatMap(g=>n.map(p=>a(m,g,p))))},{immediate:!0,flush:"post"}),f=()=>{d(),i()};return ee(f),f}function le(e,o,t={}){const{window:n=B,ignore:s,capture:c=!0,detectIframe:i=!1}=t;if(!n)return;let a=!0,d;const f=r=>{n.clearTimeout(d);const u=w(e);if(!(!u||u===r.target||r.composedPath().includes(u))){if(!a){a=!0;return}o(r)}},m=r=>s&&s.some(u=>{const y=w(u);return y&&(r.target===y||r.composedPath().includes(y))}),g=[b(n,"click",f,{passive:!0,capture:c}),b(n,"pointerdown",r=>{const u=w(e);u&&(a=!r.composedPath().includes(u)&&!m(r))},{passive:!0}),b(n,"pointerup",r=>{if(r.button===0){const u=r.composedPath();r.composedPath=()=>u,d=n.setTimeout(()=>f(r),50)}},{passive:!0}),i&&b(n,"blur",r=>{var u;const y=w(e);((u=n.document.activeElement)==null?void 0:u.tagName)==="IFRAME"&&!(y!=null&&y.contains(n.document.activeElement))&&o(r)})].filter(Boolean);return()=>g.forEach(r=>r())}const O=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},E="__vueuse_ssr_handlers__";O[E]=O[E]||{};O[E];var M;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(M||(M={}));var ce=Object.defineProperty,$=Object.getOwnPropertySymbols,ie=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,L=(e,o,t)=>o in e?ce(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,ue=(e,o)=>{for(var t in o||(o={}))ie.call(o,t)&&L(e,t,o[t]);if($)for(var t of $(o))de.call(o,t)&&L(e,t,o[t]);return e};const me={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};ue({linear:J},me);const fe={class:"modal is-active"},pe=l("div",{class:"modal-background"},null,-1),_e=l("p",{class:"modal-card-title"},"Delete note",-1),he=l("section",{class:"modal-card-body"}," Are you sure you want to delete this note? ",-1),ge={class:"modal-card-foot is-justify-content-flex-end"},ye={__name:"DeleteNoteModal",props:{modelValue:{type:Boolean,default:!1},noteId:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:o}){const t=A(),n=j(null),s=()=>{o("update:modelValue",!1)},c=i=>{i.key==="Escape"&&s()};return le(n,s),P(()=>{document.addEventListener("keyup",c)}),G(()=>{document.removeEventListener("keyup",c)}),(i,a)=>(h(),v("div",fe,[pe,l("div",{class:"modal-card",ref_key:"modalCardRef",ref:n},[l("header",{class:"modal-card-head"},[_e,l("button",{onClick:s,class:"delete","aria-label":"close"})]),he,l("footer",ge,[l("button",{onClick:s,class:"button"}," Cancel "),l("button",{class:"button is-danger",onClick:a[0]||(a[0]=d=>_(t).deleteNote(e.noteId))}," Delete ")])],512)]))}},ve={class:"card mb-5"},we={class:"card-header"},Se={class:"card-header-title"},be={class:"card-content"},ke={class:"content"},De={class:"columns is-mobile has-text-grey-light mt-2"},Ne={class:"column"},Oe={class:"column has-text-right"},Ee={class:"card-footer"},Ie={__name:"Note",props:{note:{type:Object,required:!0}},emits:["deleteClicked"],setup(e,{emit:o}){const t=e,n=k(()=>t.note.content.length),s=x({deleteNote:!1,editNote:!1}),c=k(()=>re(new Date(t.note.created),"DD/MM/YYYY @ HH:mm").value),i=()=>{s.deleteNote=!0};return(a,d)=>{const f=W("RouterLink");return h(),v(D,null,[l("div",ve,[l("header",we,[l("p",Se,S(e.note.title),1)]),l("div",be,[l("div",ke,[I(S(e.note.content)+" ",1),l("div",De,[l("div",Ne," Created "+S(_(c)),1),l("div",Oe,S(_(n))+" characters ",1)])])]),l("footer",Ee,[V(f,{to:`/notes/${e.note.id}`,class:"card-footer-item"},{default:R(()=>[I(" Edit ")]),_:1},8,["to"]),l("a",{onClick:i,class:"card-footer-item"}," Delete ")])]),s.deleteNote?(h(),T(ye,{key:0,modelValue:s.deleteNote,"onUpdate:modelValue":d[0]||(d[0]=m=>s.deleteNote=m),noteId:e.note.id},null,8,["modelValue","noteId"])):Y("",!0)],64)}}},Ce={class:"notes"},Me=["disabled"],$e={key:0,class:"is-size-4 has-text-centered has-text-grey-light is-family-monospace py-4"},Le={key:1,class:"progress is-success",max:"100"},xe={__name:"ViewNotes",setup(e){const o=A();let t=x({title:"",content:""});const n=()=>{o.addNote(t),t={title:"",content:""}},s=c=>{o.deleteNote(c)};return P(()=>{}),(c,i)=>(h(),v("div",Ce,[V(K,{modelValue:_(t),"onUpdate:modelValue":i[0]||(i[0]=a=>q(t)?t.value=a:t=a)},{buttons:R(()=>[l("button",{onClick:n,disabled:!_(t).title||!_(t).content,class:"button is-link has-background-success"}," Add new note ",8,Me)]),_:1},8,["modelValue"]),_(o).notesLoaded?(h(),v(D,{key:0},[(h(!0),v(D,null,z(_(o).notes,a=>(h(),T(Ie,{key:a.id,note:a,onDeleteClicked:d=>s(a.id)},null,8,["note","onDeleteClicked"]))),128)),_(o).notes.length?Y("",!0):(h(),v("div",$e," No notes yet here ... "))],64)):(h(),v("progress",Le))]))}};export{xe as default};
